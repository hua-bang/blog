---
title: è®¡æ•°æ’åº
customTag: algorithms>ç®—æ³•>æ’åº
date: 2024.05.10
editLink: true
---

# è®¡æ•°æ’åº

è®¡æ•°æ’åºï¼ˆcounting sortï¼‰é€šè¿‡ç»Ÿè®¡å…ƒç´ æ•°é‡æ¥å®ç°æ’åºï¼Œé€šå¸¸åº”ç”¨äºæ•´æ•°æ•°ç»„ã€‚

## æµç¨‹

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º Â ğ‘›Â  çš„æ•°ç»„ Â `nums`Â ï¼Œå…¶ä¸­çš„å…ƒç´ éƒ½æ˜¯â€œéè´Ÿæ•´æ•°â€ï¼Œæ•´ä½“æµç¨‹å¦‚ä¸‹ã€‚

1. éå†æ•°ç»„ï¼Œæ‰¾å‡ºæœ€å¤§å€¼ mï¼Œ å¹¶åˆ›å»ºä¸€ä¸ª m + 1 çš„æ•°ç»„ã€‚
2. å€ŸåŠ© Â **`counter`Â  ç»Ÿè®¡ Â `nums`Â  ä¸­å„æ•°å­—çš„å‡ºç°æ¬¡æ•°**ï¼Œå…¶ä¸­ Â `counter[num]`Â  å¯¹åº”æ•°å­— Â `num`Â  çš„å‡ºç°æ¬¡æ•°ã€‚ç»Ÿè®¡æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€éå† Â `nums`ï¼ˆè®¾å½“å‰æ•°å­—ä¸º Â `num`ï¼‰ï¼Œæ¯è½®å°† Â `counter[num]`Â  å¢åŠ  Â 1Â  å³å¯ã€‚
3. **ç”±äº Â `counter`Â  çš„å„ä¸ªç´¢å¼•å¤©ç„¶æœ‰åºï¼Œå› æ­¤ç›¸å½“äºæ‰€æœ‰æ•°å­—å·²ç»æ’åºå¥½äº†**ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éå† Â `counter`Â ï¼Œæ ¹æ®å„æ•°å­—å‡ºç°æ¬¡æ•°ä»å°åˆ°å¤§çš„é¡ºåºå¡«å…¥ Â `nums`Â  å³å¯ã€‚
   ![](https://raw.githubusercontent.com/hua-bang/assert-store/master/20240510082209.png)

## ä»£ç å®ç°

å…·ä½“ä»£ç å®ç°å¦‚ä¸‹

```ts
function countingSort(nums: number[]) {
  const m = Math.max(...nums);

  const counters = new Array(m + 1).fill(0);

  for (const num of nums) {
    counters[num]++;
  }

  let i = 0;
  for (let num = 0; num < counters.length; num++) {
    for (let j = 0; j < counters[num]; j++) {
      nums[i] = num;
      i++;
    }
  }
}
```

## ç‰¹æ€§

- **æ—¶é—´å¤æ‚åº¦ä¸ºÂ ğ‘‚(ğ‘›+ğ‘š)ã€éè‡ªé€‚åº”æ’åº**Â ï¼šæ¶‰åŠéå†Â `nums`Â å’Œéå†Â `counter`Â ï¼Œéƒ½ä½¿ç”¨çº¿æ€§æ—¶é—´ã€‚ä¸€èˆ¬æƒ…å†µä¸‹Â ğ‘›â‰«ğ‘šÂ ï¼Œæ—¶é—´å¤æ‚åº¦è¶‹äºÂ ğ‘‚(ğ‘›)Â ã€‚
- **ç©ºé—´å¤æ‚åº¦ä¸ºÂ ğ‘‚(ğ‘›+ğ‘š)ã€éåŸåœ°æ’åº**ï¼šå€ŸåŠ©äº†é•¿åº¦åˆ†åˆ«ä¸ºÂ ğ‘›Â å’ŒÂ ğ‘šÂ çš„æ•°ç»„Â `res`Â å’ŒÂ `counter`Â ã€‚
- **ç¨³å®šæ’åº**ï¼šç”±äºå‘Â `res`Â ä¸­å¡«å……å…ƒç´ çš„é¡ºåºæ˜¯â€œä»å³å‘å·¦â€çš„ï¼Œå› æ­¤å€’åºéå†Â `nums`Â å¯ä»¥é¿å…æ”¹å˜ç›¸ç­‰å…ƒç´ ä¹‹é—´çš„ç›¸å¯¹ä½ç½®ï¼Œä»è€Œå®ç°ç¨³å®šæ’åºã€‚å®é™…ä¸Šï¼Œæ­£åºéå†Â `nums`Â ä¹Ÿå¯ä»¥å¾—åˆ°æ­£ç¡®çš„æ’åºç»“æœï¼Œä½†ç»“æœæ˜¯éç¨³å®šçš„ã€‚

## å±€é™æ€§
 **è®¡æ•°æ’åºåªé€‚ç”¨äºéè´Ÿæ•´æ•°**ã€‚è‹¥æƒ³å°†å…¶ç”¨äºå…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œéœ€è¦ç¡®ä¿è¿™äº›æ•°æ®å¯ä»¥è½¬æ¢ä¸ºéè´Ÿæ•´æ•°ï¼Œå¹¶ä¸”åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ä¸èƒ½æ”¹å˜å„ä¸ªå…ƒç´ ä¹‹é—´çš„ç›¸å¯¹å¤§å°å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå¯¹äºåŒ…å«è´Ÿæ•°çš„æ•´æ•°æ•°ç»„ï¼Œå¯ä»¥å…ˆç»™æ‰€æœ‰æ•°å­—åŠ ä¸Šä¸€ä¸ªå¸¸æ•°ï¼Œå°†å…¨éƒ¨æ•°å­—è½¬åŒ–ä¸ºæ­£æ•°ï¼Œæ’åºå®Œæˆåå†è½¬æ¢å›å»ã€‚

**è®¡æ•°æ’åºé€‚ç”¨äºæ•°æ®é‡å¤§ä½†æ•°æ®èŒƒå›´è¾ƒå°çš„æƒ…å†µ**ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­Â ğ‘šÂ ä¸èƒ½å¤ªå¤§ï¼Œå¦åˆ™ä¼šå ç”¨è¿‡å¤šç©ºé—´ã€‚è€Œå½“Â ğ‘›â‰ªğ‘šÂ æ—¶ï¼Œè®¡æ•°æ’åºä½¿ç”¨Â ğ‘‚(ğ‘š)Â æ—¶é—´ï¼Œå¯èƒ½æ¯”Â ğ‘‚(ğ‘›logâ¡ğ‘›)Â çš„æ’åºç®—æ³•è¿˜è¦æ…¢ã€‚

## å‚è€ƒ
- [è®¡æ•°æ’åº](https://www.hello-algo.com/chapter_sorting/counting_sort/#1194)